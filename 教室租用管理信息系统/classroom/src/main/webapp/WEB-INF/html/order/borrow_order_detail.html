<!doctype html>
<html lang="en">
<head>
    <base href="<%=basePath%>">
    <meta charset="UTF-8">
    <title>借用申请详情</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="../../../css/xadmin.css">
    <link rel="stylesheet" href="../../../layui/css/layui.css" media="all"/>
    <style>
        .layui-table th {
            font-family: 黑体;
            font-size: 16px;
            text-align: left;
        }

    </style>

</head>
<body>
<fieldset class="layui-elem-field" style="width:60%;margin-left: 20%;margin-top: 1% ">
    <div class="layui-field-box">
        <table class="layui-table">
            <tbody>
            <tr>
                <th colspan="2" style="text-align:left;background-color: #eee"><h2 style="font-family: 黑体">借用申请基本信息</h2>
                </th>
            <tr>
            <tr>
                <th width="25%">申请编号</th>
                <td><input type="text" id="orderCode" name="orderCode" required=""
                           lay-verify="orderCode" autocomplete="off"
                           class="layui-input" placeholder=""></td>
            </tr>
            <tr>
                <th>审核状态</th>
                <td><input type="text" id="orderState" name="orderState" required=""
                           lay-verify="orderState" autocomplete="off"
                           class="layui-input" placeholder=""></td>
            </tr>
            <tr>
                <th>审核结果</th>
                <td>
                    <input type="text" id="orderExamineState" name="orderExamineState" required=""
                           lay-verify="orderExamineState" autocomplete="off"
                           class="layui-input" placeholder="">
                </td>
            </tr>
            <tr>
                <th>借用时间</th>
                <td><input type="text" id="orderAppointmentTime" name="orderAppointmentTime" required=""
                           lay-verify="orderAppointmentTime" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th>借用用途</th>
                <td><input type="text" id="orderPurpose" name="orderPurpose" required=""
                           lay-verify="orderPurpose" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th>第几课时</th>
                <td><input type="text" id="orderSelection" name="orderSelection" required=""
                           lay-verify="orderSelection" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th>申请理由</th>
                <td><textarea placeholder="申请理由..." class="layui-textarea" id="orderRemark" lay-verify="orderRemark"
                              name="orderRemark"></textarea></td>
                </td>
            </tr>
            <tr>
                <th>申请时间</th>
                <td><input type="text" id="orderCreateTime" name="orderCreateTime" required=""
                           lay-verify="orderCreateTime" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th>审核/撤回时间</th>
                <td><input type="text" id="orderUpdateTime" name="orderUpdateTime" required=""
                           lay-verify="orderUpdateTime" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th colspan="2" style="text-align:left;background-color: #eee"><h2 style="font-family: 黑体">基本教室信息</h2>
                </th>
            </tr>
            <tr>
                <th>教室编号</th>
                <td><input type="text" id="roomCode" name="roomCode" required=""
                           lay-verify="roomCode" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th>大楼名称</th>
                <td><input type="text" id="roomBuilding" name="roomBuilding" required=""
                           lay-verify="roomBuilding" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th><span i></span>教室门牌号</th>
                <td><input type="text" id="roomNumber" name="roomNumber" required=""
                           lay-verify="roomNumber" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th colspan="2" style="text-align:left;background-color: #eee"><h2 style="font-family: 黑体">学生基本信息</h2>
                </th>
            </tr>
            <tr>
                <th><span i></span>学生编号</th>
                <td><input type="text" id="studentCode" name="studentCode" required=""
                           lay-verify="studentCode" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th><span i></span>学生姓名</th>
                <td><input type="text" id="studentName" name="studentName" required=""
                           lay-verify="studentName" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th><span i></span>所属院系</th>
                <td><input type="text" id="studentCollege" name="studentCollege" required=""
                           lay-verify="studentCollege" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td>
            </tr>
            <tr>
                <th><span i></span>所属班级</th>
                <td><input type="text" id="studentClass" name="studentClass" required=""
                           lay-verify="studentClass" autocomplete="off"
                           class="layui-input" placeholder=""></td>
                </td></tr>
            <tr>
                <th colspan="2" style="text-align:left;background-color: #eee"><h2 style="font-family: 黑体">审批人员基本信息</h2>
                </th>
            </tr>
            <tr>
                <th><span i></span>教师编号</th>
                <td><input type="text" id="tercherCode" name="tercherCode" required=""
                           lay-verify="tercherCode" autocomplete="off"
                           class="layui-input" placeholder=""></td>
            </tr>
            <tr>
                <th><span i></span>教师姓名</th>
                <td><input type="text" id="tercherName" name="tercherName" required=""
                           lay-verify="tercherName" autocomplete="off"
                           class="layui-input" placeholder=""></td>
            </tr>
            </tbody>
        </table>
        <!--<input type="text" style="display: none" name="payImg" id="adImgFile" lay-verify="adImgFile" >
        <div class="layui-form-item" >
            <label class="layui-form-label"> 机构LOGO
            </label>
            <div class="layui-upload" style="padding-left: 130px;">
                <button type="button" class="layui-btn" id="test2">上传LOGO</button>
                <div class="layui-upload-list" id="demo3" >
                    <img class="layui-upload-img" id="demo2" width="150px"  height="150px">

                </div>
                <span>上传图片必须为jpg/png格式，每张图片的大小不能超过2M。</span>
            </div>
        </div>-->
    </div>
</fieldset>
<div class="layui-form-item" style="text-align: center">
    <label class="layui-form-label"> </label>
    <!--<button class="layui-btn layui-btn-normal" lay-filter="save" lay-submit="">
        保存
    </button>-->
    <button class="layui-btn layui-btn-warm" onclick="resetmessage()">
        返回
    </button>
</div>
<script type="text/javascript" src="../../js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="../../../layui/layui.js"></script>
<script>

    var orderId = localStorage.getItem("orderId");
    localStorage.removeItem("orderId");
    $.ajax({
        url: "/manage/order/getOrderDetail",
        type: "post",
        dataType: "json",
        data: {
            orderId: orderId
        },
        success: function (data) {
            var data = data.data;
            $("#orderCode").val(data.orderCode);
            if (data.orderState == 1) {
                $("#orderState").val("审核中");
            } else if (data.orderState == 2) {
                $("#orderState").val("已审核");
            }else if (data.orderState == 3) {
                $("#orderState").val("撤回");
            }
            if (data.orderExamineState == 1) {
                $("#orderExamineState").val("审核通过");
            } else if (data.orderExamineState == 2) {
                $("#orderExamineState").val("审核不通过");
            }
            $("#orderAppointmentTime").val(createTime1(data.orderAppointmentTime));
            $("#orderPurpose").val(data.orderPurpose);
            $("#orderSelection").val(data.orderSelection);
            $("#orderRemark").val(data.orderRemark);
            $("#orderCreateTime").val(createTime(data.orderCreateTime));
            $("#orderUpdateTime").val(createTime(data.orderUpdateTime));
            $("#roomCode").val(data.roomCode);
            $("#roomBuilding").val(data.roomBuilding);
            $("#roomNumber").val(data.roomNumber);
            $("#studentCode").val(data.studentCode);
            $("#studentName").val(data.studentName);
            $("#studentCollege").val(data.studentCollege);
            $("#studentClass").val(data.studentClass);
            $("#tercherCode").val(data.tercherCode);
            $("#tercherName").val(data.tercherName);
        }
    });


    $('.demoTable .layui-btn').on('click', function () {
        var type = $(this).data('type');
        active[type] ? active[type].call(this) : '';
    });
    function resetmessage() {
        parent.location.reload();
    }
    //数字时间转DATE时间类型
    function createTime(v){
        if (v == null) {
            return "";
        } else {
            var date = new Date(v);
            var y = date.getFullYear();
            var m = date.getMonth()+1;
            m = m<10?'0'+m:m;
            var d = date.getDate();
            d = d<10?("0"+d):d;
            var h = date.getHours();
            h = h<10?("0"+h):h;
            var M = date.getMinutes();
            M = M<10?("0"+M):M;
            var S = date.getSeconds();
            S = S<10?("0"+S):S;
            var str = y+"-"+m+"-"+d+" "+h+":"+M+":"+S;
            return str;
        }
    }
    //数字时间转DATE时间类型
    function createTime1(v){
        if (v == null) {
            return "";
        } else {
            var date = new Date(v);
            var y = date.getFullYear();
            var m = date.getMonth()+1;
            m = m<10?'0'+m:m;
            var d = date.getDate();
            d = d<10?("0"+d):d;
            var str = y+"-"+m+"-"+d;
            return str;
        }
    }

</script>
</body>
</html>